!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="6608f4d5-0125-4692-b7c7-a93d8bb8c3b7",e._sentryDebugIdIdentifier="sentry-dbid-6608f4d5-0125-4692-b7c7-a93d8bb8c3b7")}catch(e){}}();"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[122],{65122:function(e,n,t){t.r(n),t.d(n,{W3mModal:function(){return p}});var o=t(67197),i=t(51522),r=t(78434),a=t(1991),s=t(26898),d=t(48811);function l(){let e=(0,o._)(["\n  :host {\n    z-index: var(--w3m-z-index);\n    display: block;\n    backface-visibility: hidden;\n    will-change: opacity;\n    position: fixed;\n    top: 0;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    pointer-events: none;\n    opacity: 0;\n    background-color: var(--wui-cover);\n    transition: opacity 0.2s var(--wui-ease-out-power-2);\n    will-change: opacity;\n  }\n\n  :host(.open) {\n    opacity: 1;\n  }\n\n  :host(.embedded) {\n    position: relative;\n    pointer-events: unset;\n    background: none;\n    width: 100%;\n    opacity: 1;\n  }\n\n  wui-card {\n    max-width: var(--w3m-modal-width);\n    width: 100%;\n    position: relative;\n    animation: zoom-in 0.2s var(--wui-ease-out-power-2);\n    animation-fill-mode: backwards;\n    outline: none;\n    transition:\n      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),\n      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1);\n    will-change: border-radius, background-color;\n  }\n\n  :host(.embedded) wui-card {\n    max-width: 400px;\n  }\n\n  wui-card[shake='true'] {\n    animation:\n      zoom-in 0.2s var(--wui-ease-out-power-2),\n      w3m-shake 0.5s var(--wui-ease-out-power-2);\n  }\n\n  wui-flex {\n    overflow-x: hidden;\n    overflow-y: auto;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n    height: 100%;\n  }\n\n  @media (max-height: 700px) and (min-width: 431px) {\n    wui-flex {\n      align-items: flex-start;\n    }\n\n    wui-card {\n      margin: var(--wui-spacing-xxl) 0px;\n    }\n  }\n\n  @media (max-width: 430px) {\n    wui-flex {\n      align-items: flex-end;\n    }\n\n    wui-card {\n      max-width: 100%;\n      border-bottom-left-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom-right-radius: var(--local-border-bottom-mobile-radius);\n      border-bottom: none;\n      animation: slide-in 0.2s var(--wui-ease-out-power-2);\n    }\n\n    wui-card[shake='true'] {\n      animation:\n        slide-in 0.2s var(--wui-ease-out-power-2),\n        w3m-shake 0.5s var(--wui-ease-out-power-2);\n    }\n  }\n\n  @keyframes zoom-in {\n    0% {\n      transform: scale(0.95) translateY(0);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes slide-in {\n    0% {\n      transform: scale(1) translateY(50px);\n    }\n    100% {\n      transform: scale(1) translateY(0);\n    }\n  }\n\n  @keyframes w3m-shake {\n    0% {\n      transform: scale(1) rotate(0deg);\n    }\n    20% {\n      transform: scale(1) rotate(-1deg);\n    }\n    40% {\n      transform: scale(1) rotate(1.5deg);\n    }\n    60% {\n      transform: scale(1) rotate(-1.5deg);\n    }\n    80% {\n      transform: scale(1) rotate(1deg);\n    }\n    100% {\n      transform: scale(1) rotate(0deg);\n    }\n  }\n\n  @keyframes w3m-view-height {\n    from {\n      height: var(--prev-height);\n    }\n    to {\n      height: var(--new-height);\n    }\n  }\n"]);return l=function(){return e},e}var c=(0,a.iv)(l());function u(){let e=(0,o._)(["","\n        <w3m-tooltip></w3m-tooltip> "]);return u=function(){return e},e}function h(){let e=(0,o._)(["\n          <wui-flex @click=",' data-testid="w3m-modal-overlay">\n            ',"\n          </wui-flex>\n          <w3m-tooltip></w3m-tooltip>\n        "]);return h=function(){return e},e}function w(){let e=(0,o._)([' <wui-card\n      shake="','"\n      data-embedded="','"\n      role="alertdialog"\n      aria-modal="true"\n      tabindex="0"\n      data-testid="w3m-modal-card"\n    >\n      <w3m-header></w3m-header>\n      <w3m-router></w3m-router>\n      <w3m-snackbar></w3m-snackbar>\n      <w3m-alertbar></w3m-alertbar>\n    </wui-card>']);return w=function(){return e},e}t(71253);var m=function(e,n,t,o){var i,r=arguments.length,a=r<3?n:null===o?o=Object.getOwnPropertyDescriptor(n,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,n,t,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(r<3?i(a):r>3?i(n,t,a):i(n,t))||a);return r>3&&a&&Object.defineProperty(n,t,a),a};let b="scroll-lock",p=class extends a.oi{firstUpdated(){if(i.OptionsController.setEnableEmbedded(this.enableEmbedded),this.caipAddress){if(this.enableEmbedded){i.IN.close();return}this.onNewAddress(this.caipAddress)}}disconnectedCallback(){this.unsubscribe.forEach(e=>e()),this.onRemoveKeyboardListener()}render(){return(this.style.cssText="\n      --local-border-bottom-mobile-radius: ".concat(this.enableEmbedded?"clamp(0px, var(--wui-border-radius-l), 44px)":"0px",";\n    "),this.enableEmbedded)?(0,a.dy)(u(),this.contentTemplate()):this.open?(0,a.dy)(h(),this.onOverlayClick.bind(this),this.contentTemplate()):null}contentTemplate(){return(0,a.dy)(w(),this.shake,(0,d.o)(this.enableEmbedded))}async onOverlayClick(e){e.target===e.currentTarget&&await this.handleClose()}async handleClose(){"UnsupportedChain"===i.RouterController.state.view||await i.wf.isSIWXCloseDisabled()?i.IN.shake():i.IN.close()}initializeTheming(){let{themeVariables:e,themeMode:n}=i.ThemeController.state,t=r.UiHelperUtil.getColorTheme(n);(0,r.initializeTheming)(e,t)}onClose(){this.open=!1,this.classList.remove("open"),this.onScrollUnlock(),i.SnackController.hide(),this.onRemoveKeyboardListener()}onOpen(){this.open=!0,this.classList.add("open"),this.onScrollLock(),this.onAddKeyboardListener()}onScrollLock(){let e=document.createElement("style");e.dataset.w3m=b,e.textContent="\n      body {\n        touch-action: none;\n        overflow: hidden;\n        overscroll-behavior: contain;\n      }\n      w3m-modal {\n        pointer-events: auto;\n      }\n    ",document.head.appendChild(e)}onScrollUnlock(){let e=document.head.querySelector('style[data-w3m="'.concat(b,'"]'));e&&e.remove()}onAddKeyboardListener(){var e;this.abortController=new AbortController;let n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector("wui-card");null==n||n.focus(),window.addEventListener("keydown",e=>{if("Escape"===e.key)this.handleClose();else if("Tab"===e.key){let{tagName:t}=e.target;!t||t.includes("W3M-")||t.includes("WUI-")||null==n||n.focus()}},this.abortController)}onRemoveKeyboardListener(){var e;null===(e=this.abortController)||void 0===e||e.abort(),this.abortController=void 0}async onNewAddress(e){let n=i.j1.getPlainAddress(e);this.caipAddress=e,await i.wf.initializeIfEnabled(),(!n||this.enableEmbedded)&&i.IN.close()}onNewNetwork(e){var n,t,o,r;if(!this.caipAddress){this.caipNetwork=e,i.RouterController.goBack();return}let a=null===(t=this.caipNetwork)||void 0===t?void 0:null===(n=t.caipNetworkId)||void 0===n?void 0:n.toString(),s=null==e?void 0:null===(o=e.caipNetworkId)||void 0===o?void 0:o.toString();a&&s&&a!==s&&(null===(r=this.caipNetwork)||void 0===r?void 0:r.name)!=="Unknown Network"&&i.RouterController.goBack(),this.caipNetwork=e}constructor(){super(),this.unsubscribe=[],this.abortController=void 0,this.enableEmbedded=i.OptionsController.state.enableEmbedded,this.open=i.IN.state.open,this.caipAddress=i.RY.state.activeCaipAddress,this.caipNetwork=i.RY.state.activeCaipNetwork,this.shake=i.IN.state.shake,this.initializeTheming(),i.ApiController.prefetch(),this.unsubscribe.push(...[i.IN.subscribeKey("open",e=>e?this.onOpen():this.onClose()),i.IN.subscribeKey("shake",e=>this.shake=e),i.RY.subscribeKey("activeCaipNetwork",e=>this.onNewNetwork(e)),i.RY.subscribeKey("activeCaipAddress",e=>this.onNewAddress(e))]),i.Xs.sendEvent({type:"track",event:"MODAL_LOADED"})}};p.styles=c,m([(0,s.Cb)({type:Boolean})],p.prototype,"enableEmbedded",void 0),m([(0,s.SB)()],p.prototype,"open",void 0),m([(0,s.SB)()],p.prototype,"caipAddress",void 0),m([(0,s.SB)()],p.prototype,"caipNetwork",void 0),m([(0,s.SB)()],p.prototype,"shake",void 0),p=m([(0,r.customElement)("w3m-modal")],p)}}]);